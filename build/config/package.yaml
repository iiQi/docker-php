default:
  dev:
    - run: |
        composer config -g repo.packagist composer https://mirrors.aliyun.com/composer/
    - run: |
        curl -o /usr/local/bin/wait-for https://raw.githubusercontent.com/mrako/wait-for/master/wait-for
        chmod +x /usr/local/bin/wait-for
    - run: |
        cat << EOF >> /root/.bashrc
        export LESSCHARSET=utf-8
        source /etc/profile
        EOF

debian:
  # 编译工具包
  build:

  # 常用工具包
  package:
    - unzip
    - run: |
        sed -i 's/^# \(export\|alias\)/\1/g' /root/.bashrc

  # 开发工具包
  dev:
    - bash-completion
    - bind9
    - dnsutils
    - git
    - iputils-ping
    - net-tools
    - netcat-traditional
    - procps
    - telnet
    - traceroute
    - run: |
        cat << EOF > /etc/profile.d/git.sh
        GIT_PS1_SHOWCOLORHINTS=true
        GIT_PS1_SHOWUPSTREAM="verbose name legacy git"
        PROMPT_COMMAND='__git_ps1 "[\u@\h \W]" "\\$ "'
        EOF

alpine:
  # 编译工具包
  build:
    - build-base
    - shadow

  # 常用工具包
  package:
    - bash
    - run: |
        cat << EOF > /root/.bashrc
        export LS_OPTIONS='--color=auto'
        alias ls='ls \$LS_OPTIONS'
        alias ll='ls \$LS_OPTIONS -l'
        alias l='ls \$LS_OPTIONS -l'
        EOF

  # 开发工具包
  dev:
    - bash-completion
    - bind
    - git
    - inetutils-telnet
    - iputils
    - net-tools
    - netcat-openbsd
    - procps-ng
    - traceroute